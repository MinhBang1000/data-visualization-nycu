(()=>{"use strict";var t=function(t,a,e){for(var r=e.map((function(a){return a[t]})),n=e.map((function(t){return t[a]})),c=r.reduce((function(t,a){return t+a}),0)/r.length,i=n.reduce((function(t,a){return t+a}),0)/n.length,l=0,o=0,s=0,d=0;d<r.length;d++){var u=r[d]-c,f=n[d]-i;l+=u*f,o+=Math.pow(u,2),s+=Math.pow(f,2)}return l/Math.sqrt(o*s)},a=function(a,e){for(var r=new Array,n=0;n<e.length;n++)for(var c=0;c<e.length;c++){var i=e[n],l=e[c];if("Sex"!==i&&"Sex"!==l){var o=t(i,l,a);r.push({keyX:i,keyY:l,r:o})}}return r},e=d3,r=e.select,n=(e.csv,e.text),c=e.scaleLinear,i=(e.extent,e.axisLeft),l=e.axisBottom,o=(e.format,e.line,e.mouse,e.transition,e.scaleBand),s=r("svg"),d=(s.attr("width"),+s.attr("height")),u=function(t,a,e,n){for(var s=new Array,d=t.length-1;d>=0;d--)s.push(t[d]);var u=r("svg").append("g"),f=o().domain(t.filter((function(t){return"Sex"!==t}))).range([0,e]).padding(.05),p=l(f).tickPadding(-10);u.append("g").attr("class","x-axis").attr("transform","translate(".concat(0,",",e,")")).call(p).selectAll(".x-axis .tick text").attr("x",-10);var h=o().domain(s.filter((function(t){return"Sex"!==t}))).range([e,0]).padding(.05),x=i(h);u.append("g").attr("class","y-axis").attr("transform","translate(".concat(0,",",0,")")).call(x),u.selectAll(".tick line").remove(),u.selectAll(".domain").remove();var v=c().domain([-1,-.5,0,.5,1]).range(["#000814","#001d3d","#001d3d","#003566","#90e0ef"]);return u.selectAll("rect").data(a,(function(t){return t})).enter().append("rect").attr("class","data-rect").attr("x",(function(t){return f(t.keyX)})).attr("y",(function(t){return h(t.keyY)})).attr("rx",5).attr("ry",5).attr("width",f.bandwidth()).attr("height",h.bandwidth()).attr("fill",(function(t){return v(t.r)})).each((function(t){var a=r(this),e=parseFloat(a.attr("x"))+f.bandwidth()/2,n=parseFloat(a.attr("y"))+h.bandwidth()/2,c=t.r<.85?"white":"black",i=u.append("text").attr("x",e).attr("y",n).attr("dy",".35em").attr("class","data-rect-text").attr("text-anchor","middle").style("fill","".concat(c)).style("font-size","10px").text(t.r%1==0?Math.round(t.r):d3.format(".2f")(t.r));a.on("mouseenter",(function(){i.classed("data-rect-text-active",!0),a.classed("data-rect-active",!0)})),a.on("mouseleave",(function(){i.classed("data-rect-text-active",!1),a.classed("data-rect-active",!1)})),i.on("mouseenter",(function(){i.classed("data-rect-text-active",!0),a.classed("data-rect-active",!0)})),i.on("mouseleave",(function(){i.classed("data-rect-text-active",!1),a.classed("data-rect-active",!1)})),a.on("click",(function(){var t=i.classed("data-rect-text-clicked");i.classed("data-rect-text-clicked",!t)})),i.on("click",(function(){var t=i.classed("data-rect-text-clicked");i.classed("data-rect-text-clicked",!t)}))})),u.append("text").attr("class","h2-title").attr("y",-10).text(n),u.style("opacity",0).transition().duration(1e3).style("opacity",1),u};n("http://vis.lab.djosix.com:2024/data/abalone.data").then((function(t){!function(t){s.selectAll("*").remove(),function(t){for(var e=["Male Abalone","Female Abalone","Infant Abalone"],n=100,i=[],o=[],f=[],p=function(t){var a=t[0];return Object.keys(a).filter((function(t){return"class"!==t}))}(t),h=new Array,x=p.length-1;x>=0;x--)h.push(p[x]);var v=t.filter((function(t){return isNaN(null==t?void 0:t.Sex)}));v.forEach((function(t){"M"===(null==t?void 0:t.Sex)?i.push(t):"F"===(null==t?void 0:t.Sex)?o.push(t):"I"===(null==t?void 0:t.Sex)&&f.push(t)})),a(v,p);var y=a(i,p),m=a(o,p),g=a(f,p);u(p,y,250,e[0]).attr("transform","translate(".concat(190,", ").concat(120,")")),u(p,m,250,e[1]).attr("transform","translate(".concat(545,", ").concat(120,")")),u(p,g,250,e[2]).attr("transform","translate(".concat(900,", ").concat(120,")")),s.append("text").attr("class","title").attr("y",70).attr("x",n).text("Correlation Matrices of Abalone Attributes: A Comparative Analysis of Male, Female, and Infant Categories").style("opacity",0).transition().duration(1e3).style("opacity",1),function(t){var a=r("svg").append("g"),e=a.append("defs").append("linearGradient").attr("id","colorGradient").attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","0%"),n=[-1,-.5,0,.5,1];n.forEach((function(a,r){e.append("stop").attr("offset","".concat(r/(n.length-1)*100,"%")).style("stop-color",t[r]).style("stop-opacity",1)}));var i=c().domain([-1,1]).range([0,500]),o=l(i).tickValues([-1,-.5,0,.5,1]).tickFormat(d3.format(".1f")),s=a.append("g").attr("class","color-axis").call(o);return s.selectAll(".tick line").remove(),s.selectAll(".domain").remove(),a.append("rect").attr("class","color-rect").attr("x",0).attr("y",-12).attr("width",500).attr("height",15).attr("fill","url(#colorGradient)"),a.append("text").attr("class","h2-title-color").attr("x",0).attr("y",-25).text("Value Scale"),a.style("opacity",0).transition().duration(1e3).style("opacity",1),a}(["#000814","#001d3d","#001d3d","#003566","#90e0ef"]).attr("transform","translate(".concat(374,", ").concat(d-60,")"))}(t)}(t.split("\n").map((function(t){var a=t.split(",");return{Sex:a[0],Length:+a[1],Diameter:+a[2],Height:+a[3],"Whole Weight":+a[4],"Shucked Weight":+a[5],"Viscera Weight":+a[6],"Shell Weight":+a[7],Rings:+a[8]}})))}))})();